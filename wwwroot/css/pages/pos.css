/* POS SYSTEM STYLES */
* { box-sizing: border-box; }
body { font-family: 'Inter', 'Segoe UI', sans-serif; background: #f5f5f5; }
.pos-container { display:flex; flex-direction:column; height:100vh; width:100vw; }
.pos-header{ background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:#fff; padding:12px 20px; display:flex; justify-content:space-between; align-items:center; }
.header-left{ display:flex; align-items:center; gap:12px }
.logo{ width:45px; height:45px; border-radius:8px; object-fit:cover }
.header-left h1{ font-size:20px; font-weight:700 }
.header-right{ display:flex; align-items:center; gap:12px }
.staff-info{ display:flex; align-items:center; gap:6px; padding:6px 12px; background:rgba(255,255,255,0.15); border-radius:20px }
.current-time{ padding:6px 12px; background:rgba(255,255,255,0.12); border-radius:8px; font-weight:600 }
.btn-logout{ padding:8px 16px; background:rgba(255,255,255,0.18); color:#fff; border-radius:8px; text-decoration:none }
.pos-main{ display:grid; grid-template-columns:1fr 420px; gap:15px; padding:15px; height:calc(100vh - 69px); }
.products-section{ background:#fff; border-radius:12px; padding:15px; display:flex; flex-direction:column; overflow:hidden }
.category-filter{ display:flex; gap:8px; margin-bottom:12px; flex-wrap:wrap }
.category-btn{ padding:8px 12px; background:#f0f0f0; border-radius:8px; border:none; cursor:pointer; font-weight:600 }
.category-btn.active{ background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:#fff }
.search-box{ position:relative; margin-bottom:12px }
.search-box i{ position:absolute; left:12px; top:50%; transform:translateY(-50%); color:#999 }
.search-box input{ width:100%; padding:10px 10px 10px 40px; border:2px solid #eaeaea; border-radius:8px }
.products-grid{ display:grid; grid-template-columns:repeat(auto-fill,minmax(160px,1fr)); gap:12px; overflow:auto; padding-right:8px }
.product-card{ background:#fff; border:2px solid #eee; border-radius:10px; overflow:hidden; position:relative; display:flex; flex-direction:column }
.product-card img{ width:100%; height:110px; object-fit:cover }
.product-info{ padding:8px; flex:1; display:flex; flex-direction:column; justify-content:space-between }
.product-info h3{ font-size:14px; margin-bottom:6px; color:#333; line-height:1.2; display:block; overflow:hidden; text-overflow:ellipsis; word-break:break-word }
.product-info .price{ color:#667eea; font-weight:700 }
.btn-add{ position:absolute; bottom:8px; right:8px; width:36px; height:36px; border-radius:50%; background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:#fff; border:none; display:flex; align-items:center; justify-content:center }
.order-section{ background:#fff; border-radius:12px; padding:15px; display:flex; flex-direction:column }
.order-header{ display:flex; justify-content:space-between; align-items:center; margin-bottom:12px; border-bottom:2px solid #f3f4f6; padding-bottom:12px }
.btn-clear-order{ padding:6px 12px; background:#ff4444; color:#fff; border-radius:6px }
.customer-info{ display:flex; flex-direction:column; gap:8px; margin-bottom:12px }
.input-customer{ padding:10px; border-radius:6px; border:2px solid #eaeaea }
.discount-panel{ margin-bottom:12px }
.btn-apply-discount{ padding:8px 12px; background:#667eea; color:#fff; border-radius:6px; border:none }
.order-items{ flex:1; overflow:auto; margin-bottom:12px; padding-right:8px; min-height:150px; max-height:220px }
.empty-order{ text-align:center; padding:30px 15px; color:#999 }
.order-item{ padding:12px; display:grid; grid-template-columns:1fr auto auto; gap:12px; align-items:center; border-radius:8px; background:#fafafa; margin-bottom:8px }
.item-info h4{ margin:0; font-size:15px; font-weight:700; white-space:normal; word-break:break-word }
.item-price{ color:#6b7280 }
.item-controls{ display:flex; align-items:center; gap:8px }
.btn-quantity{ width:36px; height:36px; border-radius:6px; border:1px solid #ddd; background:#fff }
.quantity{ min-width:36px; text-align:center; font-weight:700 }
.btn-remove{ width:36px; height:36px; border-radius:6px; background:#fee2e2; border:1px solid #fca5a5 }
.item-total{ font-weight:700; color:#059669; text-align:right }
.order-summary{ margin-bottom:12px }
.summary-row{ display:flex; justify-content:space-between; margin-bottom:8px }
.summary-row.total{ font-size:18px; font-weight:700; color:#667eea }
.payment-options{ display:grid; grid-template-columns:repeat(3,1fr); gap:8px }
.payment-btn{ padding:10px; border-radius:8px; border:2px solid #eee; background:#f7f7f7 }
.payment-btn.active{ background:linear-gradient(135deg,#667eea 0%,#764ba2 100%); color:#fff }
.order-actions{ display:grid; grid-template-columns:1fr 1fr; gap:8px; margin-top:auto }
.btn-hold-order{ background:#ffa500; color:#fff; padding:12px; border-radius:8px }
.btn-complete-order{ background:linear-gradient(135deg,#11998e 0%,#38ef7d 100%); color:#fff; padding:12px; border-radius:8px }
.held-orders-panel{ margin-bottom:12px }
.held-orders-modal{ max-width:700px }

/* TOAST NOTIFICATIONS */
.toast-container {
    position: fixed;
    top: 80px;
    right: 20px;
    z-index: 10000;
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.toast {
    background: #333;
    color: white;
    padding: 12px 20px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
    opacity: 0;
    transform: translateX(400px);
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    display: flex;
    align-items: center;
    gap: 12px;
    min-width: 280px;
    max-width: 400px;
}

.toast.show { opacity: 1; transform: translateX(0); }
.toast i { font-size: 20px; flex-shrink: 0; }
.toast span { flex: 1; font-size: 14px; }
.toast-success { background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
.toast-error { background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); }
.toast-warning { background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }
.toast-info { background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%); }

/* LOADING OVERLAY */
.loading-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.75); backdrop-filter: blur(4px); display: flex; align-items: center; justify-content: center; z-index: 9999; animation: fadeIn 0.2s ease; }
.spinner-container { text-align: center; color: white; }
.spinner { width: 60px; height: 60px; border: 5px solid rgba(255,255,255,0.2); border-top: 5px solid #fff; border-radius: 50%; animation: spin 0.8s linear infinite; margin: 0 auto 15px; }
.spinner-container p { font-size: 16px; margin-top: 10px; }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

/* ORDER ITEMS ENHANCED */
.order-item { padding: 15px; border-bottom: 1px solid #e5e7eb; display: grid; grid-template-columns: 1fr auto auto; gap: 15px; align-items: center; transition: all 0.2s ease; animation: slideIn 0.3s ease; }
@keyframes slideIn { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: translateX(0); } }
.order-item:hover { background: #f9fafb; box-shadow: inset 0 0 0 1px #e5e7eb; }
.item-info h4 { margin: 0 0 5px 0; font-size: 15px; color: #1f2937; font-weight: 600; word-break: break-word; }
.item-price { margin: 0; font-size: 13px; color: #6b7280; }
.item-controls { display: flex; align-items: center; gap: 8px; }
.btn-quantity { width: 32px; height: 32px; border: 1px solid #d1d5db; border-radius: 6px; background: white; color: #374151; cursor: pointer; transition: all 0.2s ease; display: flex; align-items: center; justify-content: center; font-size: 14px; }
.btn-quantity:hover { background: #f3f4f6; border-color: #9ca3af; transform: scale(1.05); }
.btn-quantity:active { transform: scale(0.95); }
.btn-remove { width: 32px; height: 32px; border: 1px solid #fecaca; background: #fee2e2; color: #dc2626; border-radius: 6px; cursor: pointer; transition: all 0.2s ease; display: flex; align-items: center; justify-content: center; }
.btn-remove:hover { background: #fecaca; border-color: #fca5a5; transform: scale(1.05); }
.btn-remove:active { transform: scale(0.95); }
.quantity { min-width: 35px; text-align: center; font-weight: 700; font-size: 16px; color: #1f2937; }
.item-total { font-weight: 700; color: #059669; font-size: 15px; text-align: right; }

/* PRODUCT CARD ENHANCED */
.product-card { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); cursor: pointer; user-select: none; }
.product-card:hover { transform: translateY(-6px); box-shadow: 0 12px 24px rgba(0,0,0,0.12); }
.product-card:active { transform: translateY(-2px); transition: all 0.1s; }
.product-card .btn-add { transition: all 0.2s ease; }
.product-card .btn-add:hover { transform: scale(1.1); }
.product-card .btn-add:active { transform: scale(0.95); }

.btn-complete-order, .btn-hold-order, .btn-clear-order { transition: all 0.2s ease; position: relative; overflow: hidden; }
.btn-complete-order::before, .btn-hold-order::before { content: ''; position: absolute; top: 50%; left: 50%; width: 0; height: 0; border-radius: 50%; background: rgba(255,255,255,0.3); transform: translate(-50%,-50%); transition: width 0.6s, height 0.6s; }
.btn-complete-order:active::before, .btn-hold-order:active::before { width: 300px; height: 300px; }
.btn-complete-order:hover, .btn-hold-order:hover, .btn-clear-order:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(0,0,0,0.15); }
.btn-complete-order:active, .btn-hold-order:active, .btn-clear-order:active { transform: translateY(0); }

.payment-btn { transition: all 0.3s ease; position: relative; }
.payment-btn::after { content: ''; position: absolute; bottom: 0; left: 50%; width: 0; height: 3px; background: currentColor; transform: translateX(-50%); transition: width 0.3s ease; }
.payment-btn.active::after { width: 80%; }
.payment-btn:hover { transform: translateY(-3px); }

.search-box input:focus { box-shadow: 0 0 0 3px rgba(59,130,246,0.1); border-color: #3b82f6; }
.search-box i { transition: color 0.2s; }
.search-box input:focus + i { color: #3b82f6; }

.category-btn { transition: all 0.2s ease; }
.category-btn:hover { transform: translateY(-2px); }
.category-btn.active { box-shadow: 0 4px 12px rgba(0,0,0,0.15); }

.empty-order { animation: fadeIn 0.3s ease; }
.empty-order i { animation: float 3s ease-in-out infinite; }
@keyframes float { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

/* Payment button selection pulse */
.payment-btn.selected-pulse {
    animation: pulseSelect 0.32s ease-in-out;
}

@keyframes pulseSelect {
    0% { transform: scale(1); box-shadow: none; }
    50% { transform: scale(0.98); box-shadow: 0 6px 18px rgba(0,0,0,0.12); }
    100% { transform: scale(1); box-shadow: 0 8px 22px rgba(0,0,0,0.14); }
}

/* stronger visible active state */
.payment-btn.active {
    background: linear-gradient(135deg,#667eea 0%,#764ba2 100%);
    color: #fff;
    border-color: transparent;
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(102,126,234,0.28);
}

/* ensure buttons show focus outline for keyboard users */
.payment-btn:focus {
    outline: 3px solid rgba(102,126,234,0.16);
    outline-offset: 2px;
}

@media (max-width: 1200px) { .pos-main { grid-template-columns: 1fr 360px; } }
@media (max-width: 992px) { .pos-main { grid-template-columns: 1fr; grid-template-rows: 1fr 1fr; } }
@media (max-width: 768px) {
    .toast-container { left: 10px; right: 10px; top: 70px; }
    .toast { min-width: auto; width: 100%; }
    .order-item { grid-template-columns: 1fr; gap: 10px; }
    .item-controls { justify-content: center; }
    .item-total { text-align: center; font-size: 16px; }
}

/* SCROLLBAR STYLING */
.order-items::-webkit-scrollbar { width: 8px; }
.order-items::-webkit-scrollbar-track { background: #f1f1f1; border-radius: 4px; }
.order-items::-webkit-scrollbar-thumb { background: #c1c1c1; border-radius: 4px; }
.order-items::-webkit-scrollbar-thumb:hover { background: #a8a8a8; }

/* PRINT STYLES */
@media print {
    .pos-header, .category-filter, .search-box, .products-section, .order-actions, .payment-methods, .btn-clear-order { display: none !important; }
    .order-section { width: 100%; max-width: 100%; }
}